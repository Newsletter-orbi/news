{% extends "base.html" %}
{% load static %}


{% block title %}  Register{% endblock %}


{% block content %}
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <!-- Font Awesome pour les icônes -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Styles personnalisés -->


    <style>
        body {
            background: linear-gradient(135deg, #f4ecfe 0%, #e7f0fd 100%);
            font-family: 'Poppins', sans-serif;
        }
        .btn-hover-effect {
            transition: all 0.3s ease;
        }
        .btn-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px rgba(50, 50, 93, 0.1), 0 4px 6px rgba(0, 0, 0, 0.08);
        }
        .form-input {
            transition: all 0.3s ease;
            background-color: #f9f9fb;
        }
        .form-input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            background-color: #fff;
        }
        .step-icon {
            width: 28px;
            height: 28px;
        }
        .step-text {
            font-size: 0.9rem;
        }
        .btn-hover-effect {
            transition: all 0.3s ease;
        }
        .btn-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px rgba(50, 50, 93, 0.1), 0 4px 6px rgba(0, 0, 0, 0.08);
        }
        .form-input {
            transition: all 0.3s ease;
            background-color: #f9f9fb;
            height: 45px;
            width: 100%;
            border: 1px solid lightgrey;
            border-radius: 15px;
            padding-left: 15px;
            font-size: 18px;
        }
        .form-input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            background-color: #fff;
        }
        .step-icon {
            width: 28px;
            height: 28px;
        }
        .step-text {
            font-size: 0.9rem;
        }
        .form-select {
            height: 45px;
            width: 100%;
            border: 1px solid lightgrey;
            border-radius: 15px;
            padding-left: 15px;
            font-size: 18px;
            background-color: #f9f9fb;
            transition: all 0.3s ease;
        }
        .form-select:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            background-color: #fff;
        }
 
/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

/* Custom styles */
body {
    background: linear-gradient(135deg, #f4ecfe 0%, #e7f0fd 100%);
    font-family: 'Poppins', sans-serif;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

h1 {
    font-size: 3rem;
    color: #4f46e5;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
}

.form-container {
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 1rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    padding: 2rem;
}

.form-input, .form-select {
    width: 100%;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 0.5rem;
    background-color: #f8fafc;
    transition: all 0.3s ease;
}

.form-input:focus, .form-select:focus {
    border-color: #4f46e5;
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
    outline: none;
}

.btn {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
}

.btn-primary {
    background-color: #4f46e5;
    color: white;
}

.btn-primary:hover {
    background-color: #4338ca;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.btn-secondary {
    background-color: #9ca3af;
    color: white;
}

.btn-secondary:hover {
    background-color: #6b7280;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
  

@media (max-width: 768px) {
    .container {
        padding: 1rem;
    }

    h1 {
        font-size: 2rem;
    }

    .form-container {
        padding: 1.5rem;
    }

    .btn {
        width: 100%;
        margin-top: 1rem;
    }
}
 
    </style>


</head>
<body class="min-h-screen flex items-center justify-center">
    <div class="container mx-auto px-4 py-16 relative">
        <!-- SVG de fond -->
        <svg class="absolute top-0 left-0 w-full h-full pointer-events-none" viewBox="0 0 100 100" preserveAspectRatio="none">
            <path d="M0,0 L100,0 C80,20 70,50 100,100 L0,100 Z" fill="#f0f4ff" opacity="0.1"></path>
        </svg>

        <h1 class="text-4xl md:text-5xl font-bold text-center text-indigo-800 mb-12 tracking-tight">        Créer un compte
        </h1>



      
        <div class="max-w-4xl mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden p-12 relative">
          <form method="post" enctype="multipart/form-data"
            x-data="{ 
                currentStep: 1,
                formSubmitted: false,
                totalSteps: 4
            }" 
            @submit.prevent="formSubmitted = true; $el.submit()">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <!-- Barre de progression -->
            <div class="mb-12">
            <div class="flex justify-between items-center">
                <template x-for="step in totalSteps" :key="step">
                    <div class="text-center">
                        <div class="mx-auto mb-2">
                            <div class="rounded-full h-14 w-14 flex items-center justify-center transition-all duration-300 mx-auto" 
                                 :class="step <= currentStep ? 'bg-indigo-600 text-white' : 'bg-gray-200 text-gray-600'">
                                <template x-if="step === 1">
                                    <svg class="step-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 10a4 4 0 100-8 4 4 0 000 8zm0 2a9 9 0 00-7.468 3.75A3.001 3.001 0 015.001 18h9.998a3.001 3.001 0 012.469-5.25A9 9 0 0010 12z" />
                                    </svg>
                                </template>
                                <template x-if="step === 2">
                                    <svg class="step-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2.003 5.884l8 4.8a1 1 0 001.994 0l8-4.8A1 1 0 0018.998 4H1.002a1 1 0 001.001 1.884zM12 12.528V17a1 1 0 11-2 0v-4.472l-8-4.8V15a1 1 0 001 1h14a1 1 0 001-1V7.728l-8 4.8z" />
                                    </svg>
                                </template>
                                <template x-if="step === 3">
                                    <svg class="step-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 3a1 1 0 000 2h12a1 1 0 100-2H4zm1 4a1 1 0 100 2h10a1 1 0 100-2H5zm-1 4a1 1 0 000 2h12a1 1 0 100-2H4zm1 4a1 1 0 100 2h10a1 1 0 100-2H5z" clip-rule="evenodd" />
                                    </svg>
                                </template>
                                <template x-if="step === 4">
                                    <svg class="step-icon" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M2 10a8 8 0 1116 0 8 8 0 01-16 0zm4-1a1 1 0 100 2h8a1 1 0 100-2H6z" />
                                    </svg>
                                </template>
                            </div>
                        </div>
                        <div class="step-text font-medium" 
                             :class="step <= currentStep ? 'text-indigo-600' : 'text-gray-500'">
                            <template x-if="step === 1">Infos de base</template>
                            <template x-if="step === 2">Contact</template>
                            <template x-if="step === 3">Infos personnelles</template>
                            <template x-if="step === 4">Compte</template>
                        </div>
                    </div>
                </template>
            </div>
            <div class="relative mt-8">
                <div class="h-2 bg-gray-200 rounded-full overflow-hidden">
                    <div class="h-full bg-indigo-600 rounded-full transition-all duration-300 ease-in-out"
                         :style="'width: ' + ((currentStep - 1) * 34) + '%'"></div>
                </div>
            </div>
        </div>
        <!-- Contenu des étapes -->
        <div class="space-y-12">
           <!-- Étape 1 : Informations de base -->
            <div x-show="currentStep === 1" class="space-y-8">
                <h2 class="text-4xl font-semibold mb-6 text-indigo-800 text-center">Informations de base</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <label for="id_first_name" class="block text-lg font-medium text-gray-700 mb-2">Prénom</label>
                        {{ form.first_name.errors }}
                        {{ form.first_name}}
                    </div>
                    <div>
                        <label for="id_last_name" class="block text-lg font-medium text-gray-700 mb-2">Nom</label>
                        {{ form.last_name.errors }}
                        {{ form.last_name}}
                    </div>
                </div>
            </div>
            <!-- Étape 2 : Informations de contact -->
            <div x-show="currentStep === 2" class="space-y-8">
                <h2 class="text-4xl font-semibold mb-6 text-indigo-800 text-center">Informations de contact</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <label for="id_email" class="block text-lg font-medium text-gray-700 mb-2">Adresse e-mail</label>
                        {{ form.email.errors }}
                        {{ form.email  }}
                    </div>
                    <div>
                        <label for="id_phone" class="block text-lg font-medium text-gray-700 mb-2">Numéro de téléphone</label>
                        {{ form.phone.errors }}
                        {{ form.phone  }}
                    </div>
                </div>
            </div>
            <!-- Étape 3 : Informations personnelles -->
            <div x-show="currentStep === 3" class="space-y-8">
                <h2 class="text-4xl font-semibold mb-6 text-indigo-800 text-center">Informations personnelles</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <label for="id_birth_date" class="block text-lg font-medium text-gray-700 mb-2">Date de naissance</label>
                        {{ form.birth_date.errors }}
                        {{ form.birth_date   }}
                    </div>
                    <div>
                        <label for="id_gender" class="block text-lg font-medium text-gray-700 mb-2">Genre</label>
                        {{ form.gender.errors }}
                        {{ form.gender   }}
                    </div>
                </div>
            </div>
            <!-- Étape 4 : Informations de compte -->
            <div x-show="currentStep === 4" class="space-y-8">
                <h2 class="text-4xl font-semibold mb-6 text-indigo-800 text-center">Informations de compte</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <label for="id_username" class="block text-lg font-medium text-gray-700 mb-2">Nom d'utilisateur</label>
                        {{ form.username.errors }}
                        {{ form.username   }}
                    </div>
                    <div>
                        <label for="id_password1" class="block text-lg font-medium text-gray-700 mb-2">Mot de passe</label>
                        {{ form.password1.errors }}
                        {{ form.password1  }}
                    </div>
                    <div class="md:col-span-2">
                        <label for="id_password2" class="block text-lg font-medium text-gray-700 mb-2">Confirmer le mot de passe</label>
                        {{ form.password2.errors }}
                        {{ form.password2   }}
                    </div>
                </div>
            </div>
          </div>
        <!-- Boutons de navigation -->
        <div class="flex justify-between mt-12">
            <button type="button" 
                    x-show="currentStep > 1"
                    @click="currentStep--"
                    class="btn-hover-effect bg-gray-500 text-white font-semibold py-3 px-8 rounded-xl focus:outline-none focus:shadow-outline transition duration-300 ease-in-out flex items-center">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
                Précédent
            </button>
            <button type="button" 
                    x-show="currentStep < totalSteps"
                    @click="currentStep++"
                    class="btn-hover-effect bg-indigo-600 text-white font-semibold py-3 px-8 rounded-xl focus:outline-none focus:shadow-outline transition duration-300 ease-in-out flex items-center ml-auto">
                Suivant
                <svg class="w-6 h-6 ml-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
            <button type="submit" 
                    x-show="currentStep === totalSteps"
                    class="btn-hover-effect bg-green-600 text-white font-semibold py-3 px-8 rounded-xl focus:outline-none focus:shadow-outline transition duration-300 ease-in-out flex items-center ml-auto"
                    x-bind:disabled="formSubmitted"
                    x-bind:class="{ 'opacity-50 cursor-not-allowed': formSubmitted }">
                <span x-show="!formSubmitted" class="flex items-center">
                    <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path>
                    </svg>
                    S'inscrire
                </span>
                <span x-show="formSubmitted" class="flex items-center">
                    <svg class="animate-spin h-6 w-6 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    Inscription en cours...
                </span>
            </button>
        </div>
    </form>
        </div>
    </div>
{% endblock %}